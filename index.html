<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atelier Electronique Mรฉdenine</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <style>
    /* ====== ุชูููู ุงููุฑุดุฉ ุนููุฏู ====== */
    .rating-container {
      background: #0a1e3d;
      padding: 20px;
      border-radius: 12px;
      display: flex;
      flex-direction: column; /* ูุฌูู ุนููุฏูุฉ */
      align-items: flex-start; /* ุนูู ุงููุณุงุฑ */
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      margin: 20px auto;
    }

    .rating {
      display: flex;
      flex-direction: column; /* ูุฌูู ุนููุฏูุฉ */
      gap: 5px;
    }

    .rating span {
      font-size: 2rem;
      color: #ffcc00;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .rating span:hover {
      transform: scale(1.2);
    }

    .average-rating {
      margin-top: 10px;
      font-size: 1.2rem;
    }

    .services-text { margin-top: 20px; }
  </style>
</head>
<body>
  <header>
    <div class="container header-inner">
      <img src="logo.png" alt="Atelier Electronique Mรฉdenine Logo" class="logo" />
      <h1>Atelier Electronique Mรฉdenine</h1>
    </div>
  </header>

  <div class="news-ticker" aria-live="polite">
    <div class="news-text" id="live-news">ุชุญููู ุงูุฃุฎุจุงุฑ...</div>
  </div>

  <main class="container main-content">
    <section class="info-bar">
      <div id="current-time">--:--:--</div>
      <div id="visit-count">ุนุฏุฏ ุฒูุงุฑุงุชู: 0</div>
      <button id="toggle-lang-btn" class="btn-primary">ุชุจุฏูู ุงููุบุฉ</button>
    </section>

    <!-- ุชูููู ุงููุฑุดุฉ ุนููุฏู -->
    <div class="rating-container" id="workshop-rating-container">
      <div class="rating" id="workshop-rating">
        <span>โ</span>
        <span>โ</span>
        <span>โ</span>
        <span>โ</span>
        <span>โ</span>
      </div>
      <div class="average-rating" id="average-rating">ุชููููู: 0 / 5</div>
    </div>

    <!-- ุฎุฏูุงุช ุงููุฑุดุฉ -->
    <div class="services-text" id="services-text"></div>

    <section class="cta-buttons">
      <a href="download" class="btn-download">๐ฅ ุชุญููู ุงูุจุฑุงูุฌ</a>
      <a href="store.html" class="btn-store">๐ ุชูุณููู ุงูุขู</a>
      <a href="https://wa.me/21698192103" target="_blank" class="btn-whatsapp" rel="noopener">ูุงุชุณุงุจ</a>
      <a href="https://maps.app.goo.gl/nxBU8h2oFDEkiBFE9" target="_blank" class="btn-maps" rel="noopener">ูููุนูุง ุนูู Google Maps</a>
      <a href="photos.html" class="btn-gallery">ุดุงูุฏ ุงูุตูุฑ</a>
      <a href="videos.html" class="btn-video">ุดุงูุฏ ุงูููุฏูู</a>
      <a href="services.html" class="btn-services">ุฎุฏูุงุช ุงููุฑุดุฉ</a>
      <button id="radio-btn" class="btn-radio">ุดุบูู ุงูุฑุงุฏูู</button>

      <audio id="radio-stream" src="https://stream.radiojar.com/8s5u5tpdtwzuv" preload="none"></audio>

      <div class="equalizer" id="equalizer" aria-hidden="true">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </section>

    <section class="experience-badge">๐ผ ุฃูุซุฑ ูู 10 ุณููุงุช ุฎุจุฑุฉ</section>

    <section class="faq">
      <h2>ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</h2>
      <div class="faq-item">
        <h3>ููู ูููููู ุฅุฑุณุงู ุฌูุงุฒ ููุฅุตูุงุญุ</h3>
        <div class="answer">ููููู ุฅุฑุณุงู ุงูุฌูุงุฒ ุนุจุฑ ุงูุจุฑูุฏ ุฅูู ุนููุงู ุงููุฑุดุฉ ุฃู ุงูุชูุงุตู ูุนูุง ูุชุฑุชูุจ ุฎุฏูุฉ ุงูุงุณุชูุงู.</div>
      </div>
      <div class="faq-item">
        <h3>ูุง ูู ูุฏุฉ ุงูุชุตููุญ ุงููุนุชุงุฏุฉุ</h3>
        <div class="answer">ูุฏุฉ ุงูุชุตููุญ ุชุฎุชูู ุญุณุจ ููุน ุงูุนุทูุ ููู ุบุงูุจุงู ูุง ุชุชุฌุงูุฒ 3 ุฃูุงู ุนูู.</div>
      </div>
      <div class="faq-item">
        <h3>ูู ุชููุฑูู ูุทุน ุบูุงุฑ ุฃุตููุฉุ</h3>
        <div class="answer">ูุนูุ ูููุฑ ูุทุน ุบูุงุฑ ุฃุตููุฉ ูุฐุงุช ุฌูุฏุฉ ุนุงููุฉ ูุฌููุน ุงูุฃุฌูุฒุฉ.</div>
      </div>
      <div class="faq-item">
        <h3>ููู ุฃุชุงุจุน ุญุงูุฉ ุงูุฅุตูุงุญุ</h3>
        <div class="answer">ูููู ุจุฅุฑุณุงู ุตูุฑ ูููุฏูููุงุช ูุญุงูุฉ ุงูุฌูุงุฒ ุฃุซูุงุก ูุฑุงุญู ุงูุชุตููุญ ุนุจุฑ ูุงุชุณุงุจ.</div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-inner">
      <p>๐ ูุฏููู โ ูุฎุฏูู ูู ูุงูู ุฃูุญุงุก ุชููุณ | ๐ฒ WhatsApp:98192103</p>
      <p>โฐ ูู ุงูุฅุซููู ููุณุจุชุ 08:00 - 18:00 | ุงูุฃุญุฏ ุฑุงุญุฉ</p>
      <div class="social-icons">
        <a href="https://www.facebook.com/AEMednine" target="_blank" rel="noopener"><img src="icons/facebook.svg" alt="Facebook" /></a>
        <a href="https://www.instagram.com/aemedenine/" target="_blank" rel="noopener"><img src="icons/instagram.svg" alt="Instagram" /></a>
        <a href="https://wa.me/21698192103" target="_blank" rel="noopener"><img src="icons/whatsapp.svg" alt="WhatsApp" /></a>
      </div>
    </div>
  </footer>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- Scripts -->
  <script src="app.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      let currentLang = 'ar';
      const servicesText = {
        ar: [
          "๐ข ูุฑุดุฉ ุฅููุชุฑูููู ุงูุฑุญูุงูู ุชูุชุญ ุฃุจูุงุจูุง ูุฌููุน ุงูููุงูุงุช.",
          "๐ง ููุฏู ุฎุฏูุงุช ุชุตููุญ ุงูุฃุฌูุฒุฉ ุงูุฅููุชุฑูููุฉ ุจุฌูุฏุฉ ุนุงููุฉ ูุจุฃุณุนุงุฑ ููุงูุณุฉ.",
          "๐ป ุชุตููุญ ุงูููุจููุชุฑุ ุงูุฃุฌูุฒุฉ ุงูููุฒููุฉุ ููุฑูุช ุฅููุชุฑูููุฉ ุจุฎุจุฑุฉ ุนุงููุฉ.",
          "๐ฑ ุชูุงุตู ูุนูุง ุนุจุฑ ูุงุชุณุงุจ ูุฃู ุงุณุชูุณุงุฑ ุฃู ุทูุจ ุฎุฏูุฉ.",
          "๐๏ธ ุจูุน ูุงุณุชุจุฏุงู ูุทุน ุงูุบูุงุฑ ุงูุฃุตููุฉ ุฐุงุช ุงูุฌูุฏุฉ ุงูุนุงููุฉ.",
          "๐ ุฎุฏูุฉ ุงูุชูุตูู ูุงูุงุณุชูุงู ุนุจุฑ ุงูุจุฑูุฏ ูุชููุฑุฉ ููู ุฃูุญุงุก ุชููุณ."
        ],
        fr: [
          "๐ข Atelier Electronique Mรฉdenine ouvre ses portes pour toutes les rรฉgions.",
          "๐ง Nous proposons des services de rรฉparation รฉlectronique de haute qualitรฉ ร prix compรฉtitifs.",
          "๐ป Rรฉparation d'ordinateurs, appareils mรฉnagers et cartes รฉlectroniques avec une grande expertise.",
          "๐ฑ Contactez-nous via WhatsApp pour toute demande ou information.",
          "๐๏ธ Vente et remplacement de piรจces d'origine de haute qualitรฉ.",
          "๐ Service de livraison et de collecte par courrier disponible dans toute la Tunisie."
        ]
      };
      const servicesContainer = document.getElementById('services-text');
      const toggleBtn = document.getElementById('toggle-lang-btn');

      function renderServices(lang) {
        servicesContainer.innerHTML = '';
        servicesText[lang].forEach(text => {
          const p = document.createElement('p');
          p.textContent = text;
          servicesContainer.appendChild(p);
        });
      }

      toggleBtn.addEventListener('click', () => {
        currentLang = currentLang === 'ar' ? 'fr' : 'ar';
        renderServices(currentLang);
        toggleBtn.textContent = currentLang === 'ar' ? 'ุชุจุฏูู ุงููุบุฉ' : 'Changer la langue';
      });

      renderServices(currentLang);

      // ======= ุชูููู ุงููุฑุดุฉ ูุงูู ุนููุฏู =======
      const ratingStars = document.querySelectorAll('#workshop-rating span');
      const averageDisplay = document.getElementById('average-rating');
      let savedRating = localStorage.getItem('workshopRating') || 0;

      updateStars(savedRating);

      ratingStars.forEach((star, idx) => {
        star.addEventListener('click', () => {
          savedRating = idx + 1;
          localStorage.setItem('workshopRating', savedRating);
          updateStars(savedRating);
        });
      });

      function updateStars(rating) {
        ratingStars.forEach((star, idx) => {
          star.textContent = idx < rating ? 'โ' : 'โ';
        });
        averageDisplay.textContent = `ุชููููู: ${rating} / 5`;
      }
    });
  </script>
</body>
</html>
