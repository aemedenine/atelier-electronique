/* ================= Reset ================= */

/* Reset */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Montserrat','Open Sans',sans-serif; background:linear-gradient(135deg,#0b1a27,#122f4a); color:#eee; direction:rtl; text-align:right; line-height:1.6; font-size:16px; }
.container { width:90%; max-width:1100px; margin:0 auto; padding:0 12px; }
header { background:#061222; padding:15px 0; box-shadow:0 2px 6px rgba(0,0,0,0.6); margin-bottom:15px; }
.header-inner { display:flex; align-items:center; gap:15px; flex-wrap:wrap; }
.logo { width:150px; border-radius:10px; box-shadow:0 0 8px #1e90ff; }
header h1 { font-weight:700; font-size:1.8rem; color:#1e90ff; flex-grow:1; }

<!-- Script AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5360225987687639" crossorigin="anonymous"></script>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css" />

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

/* ================= HEADER ================= */
header {
  background:#061222;
  padding:15px 0;
  box-shadow:0 2px 6px rgba(0,0,0,0.6);
  margin-bottom:15px;
}

.header-inner {
  position: relative;
  overflow: hidden;
  display:flex;
  align-items:center;
  gap:15px;
  flex-wrap:wrap;
}

.logo {
  width:150px;
  border-radius:10px;
  box-shadow:0 0 8px #1e90ff;
}

.header-inner h1 {
  display:inline-block;
  font-size:1.8rem;
  margin-left:15px;
  transition:color .5s, transform .5s, text-shadow .5s;
  font-weight:700;
  color:#1e90ff;
  flex-grow:1;
}

#pcbCanvasHeader {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:0;
}

.header-inner img,
.header-inner h1 {
  position:relative;
  z-index:10;
}


/* ================= News ticker ================= */
.news-ticker {
  width:100%;
  overflow:hidden;
  background:#0a1e3d;
  color:white;
  white-space:nowrap;
  font-weight:700;
  padding:10px 0;
  margin-bottom:25px;
  font-size:1rem;
  position:relative;
}

.news-text {
  display:inline-block;
  padding:0 12px;
  min-height:1.2em;
  transition:opacity 0.4s ease;
  opacity:1;
}

.news-text.fade {
  animation:fade 0.45s linear;
}

@keyframes fade {
  from{opacity:0; transform:translateY(6px);}
  to{opacity:1; transform:translateY(0);}
}

/* ================= Info bar ================= */
.info-bar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:#0a1e3d;
  color:#faf7f7;
  padding:12px 20px;
  border-radius:8px;
  margin-bottom:25px;
  font-weight:600;
  font-size:1rem;
  flex-wrap:wrap;
  gap:10px;
}

#toggle-lang-btn {
  background:#0a1e3d;
  border:none;
  padding:10px 15px;
  border-radius:6px;
  color:white;
  font-weight:700;
  cursor:pointer;
  transition:background-color 0.3s ease;
}

#toggle-lang-btn:hover {
  background:#d9533f;
}

/* ================= CTA Buttons ================= */
.cta-buttons {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:15px;
  margin-bottom:30px;
}

.cta-buttons a, .cta-buttons button {
  background:#0a1e3d;
  color:white;
  padding:14px 18px;
  border-radius:8px;
  font-weight:700;
  font-size:16px;
  border:none;
  cursor:pointer;
  text-decoration:none;
  min-width:140px;
  text-align:center;
  transition:background-color 0.3s ease, transform 0.08s ease;
  box-shadow:0 2px 6px rgba(30,144,255,0.7);
}

.cta-buttons a:hover, .cta-buttons button:hover {
  background:#e0a800;
  transform:translateY(-2px);
}

.btn-store {
  background:#0a1e3d !important;
  color:#f5eded !important;
  padding:14px 25px;
  min-width:160px;
  font-size:1rem;
  box-shadow:0 2px 6px rgba(0,0,0,0.18);
}

.btn-store:hover {
  background:#e0a800 !important;
}

/* Experience badge */
.experience-badge { background:#007bff; color:white; font-weight:700; text-align:center; padding:12px 0; border-radius:50px; font-size:1.2rem; width:250px; margin:0 auto 40px auto; box-shadow:0 0 15px #007bff; }



/* ================= WEATHER + PRAYER ================= */
.weather-box {
  margin:40px auto 10px;
  padding:20px;
  max-width:420px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(8px);
  border-radius:15px;
  color:#fff;
  box-shadow:0 0 20px rgba(0,255,255,.2);
}

.weather-box > div {
  display:flex;
  justify-content:space-between;
}

.weather-temp { font-size:2.5rem; font-weight:bold; }

.prayer-times p {
  display:flex;
  justify-content:space-between;
  margin:3px 0;
  color:#fff;
}

.prayer-times .time { font-weight:bold; }
/* ================= FAQ ================= */
.faq {
  max-width:800px;
  margin:0 auto 60px auto;
}

.faq h2 {
  color:#007bff;
  font-weight:700;
  font-size:1.8rem;
  text-align:center;
  margin-bottom:25px;
}

.faq-item {
  background:#0a1e3d;
  margin-bottom:12px;
  border-radius:8px;
  padding:15px 20px;
  cursor:pointer;
  transition:background-color 0.3s ease;
  box-shadow:0 2px 8px rgba(0,0,0,0.6);
}

.faq-item:hover {
  background:#13325b;
}

.faq-item h3 {
  font-weight:700;
  position:relative;
  color:#1e90ff;
  margin-bottom:6px;
}

.faq-item h3::after {
  content:"+";
  position:absolute;
  left:20px;
  top:0;
  font-size:1.6rem;
  font-weight:700;
  color:#ff6b35;
  transition:transform 0.3s ease;
}

.faq-item.open h3::after {
  content:"-";
  transform:rotate(180deg);
}

.answer {
  margin-top:12px;
  font-weight:400;
  color:#ddd;
  display:none;
  line-height:1.5;
}

.faq-item.open .answer {
  display:block;
}

/* ===== Fikra 3 : Electronic PCB background ÙˆØ±Ø§Ø¡ Ø§Ù„Ù„ÙˆØ¬Ùˆ ===== */
.logo-wrapper::after {
  content: "";
  position: absolute;
  inset: -20px;
  border-radius: 50%;
  background:
    repeating-linear-gradient(
      45deg,
      rgba(0,255,255,0.15) 0,
      rgba(0,255,255,0.15) 1px,
      transparent 1px,
      transparent 8px
    ),
    repeating-linear-gradient(
      -45deg,
      rgba(255,107,53,0.12) 0,
      rgba(255,107,53,0.12) 1px,
      transparent 1px,
      transparent 10px
    );
  opacity: 0.6;
  animation: pcbMove 12s linear infinite;
  z-index: -2;
}

/* Ø­Ø±ÙƒØ© Ø®ÙÙŠÙØ© Ù…ØªØ§Ø¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª */
@keyframes pcbMove {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
<script>
 // Firebase configuration
 const firebaseConfig = {
  apiKey: "AIzaSyCtbEWdm7CAC25ROslGlVeLOvfxdi2exVo",
  authDomain: "atelier-electronique-mednine.firebaseapp.com",
  projectId: "atelier-electronique-mednine",
  storageBucket: "atelier-electronique-mednine.firebasestorage.app",
  messagingSenderId: "547430908384",
  appId: "1:547430908384:web:4caa4cf3869491bd14eb85"
};

// Initialize Firebase safely
const app = firebase.initializeApp(firebaseConfig);
const analytics = firebase.analytics(app);
const auth = firebase.auth();

// ======= Ø­ÙØ¸ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø­ØªÙ‰ Ø¨Ø¹Ø¯ refresh =======
firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
  .then(() => { console.log("ğŸ”’ Session persistente activÃ©e"); })
  .catch(error => { console.error("Erreur persistence:", error); });

// Firebase Sign-In Logic
document.addEventListener('DOMContentLoaded', () => {

  // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  firebase.auth().onAuthStateChanged((user) => {
    const loginPopup = document.getElementById('login-popup');
    const userInfo = document.getElementById('user-info');
    const userName = document.getElementById('user-name');

    if (user) {
      userInfo.style.display = 'block';
      loginPopup.style.display = 'none';
      userName.textContent = user.displayName || "Ù…Ø³ØªØ®Ø¯Ù…";
    } else {
      userInfo.style.display = 'none';
      loginPopup.style.display = 'flex';
    }
  });

  const loginPopup = document.getElementById('login-popup');
  const btnGoogle = document.getElementById('btn-google');
  const btnClosePopup = document.getElementById('btn-close-popup');
  const userInfo = document.getElementById('user-info');
  const userName = document.getElementById('user-name');
  const btnSignOut = document.getElementById('btn-signout');

  btnGoogle.addEventListener('click', () => {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider)
      .then(result => {
        const user = result.user;
        userName.textContent = user.displayName;
        userInfo.style.display = 'block';
        loginPopup.style.display = 'none';
      }).catch(console.error);
  });

  btnClosePopup.addEventListener('click', () => loginPopup.style.display='none');

  btnSignOut.addEventListener('click', () => {
    auth.signOut().then(() => {
      userInfo.style.display='none';
      alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­');
    });
  });

  // ======= Video play safety =======
  document.querySelectorAll('.video-card video').forEach(video => {
    video.addEventListener('mouseenter', () => { video.play().catch(()=>{}); });
    video.addEventListener('mouseleave', () => { video.pause(); video.currentTime=0; });
  });

});
</script>

/* Footer */
footer { background:#061222; color:#faf7f7; padding:25px 0; text-align:center; font-weight:500; font-size:0.9rem; box-shadow:inset 0 1px 3px rgba(255,255,255,0.03); }
.footer-inner p { margin-bottom:5px; }
.social-icons { margin-top:10px; }
.social-icons a { margin:0 12px; display:inline-block; opacity:0.75; transition:opacity 0.3s ease; }
.social-icons a:hover { opacity:1; }
.social-icons img { width:28px; height:28px; filter:drop-shadow(0 0 1px rgba(0,0,0,0.8)); }

<script>
// ======= Fullscreen Media Viewer JS =======
document.addEventListener('DOMContentLoaded', () => {
  const mediaViewer = document.getElementById('mediaViewer');
  const viewerImg = document.getElementById('viewerImg');
  const viewerVideo = document.getElementById('viewerVideo');
  const closeBtn = mediaViewer.querySelector('.close-btn');
// ÙØªØ­ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¨Ø§Ù„Ù€ fullscreen
  document.querySelectorAll('.service-card img, .service-card video').forEach(el => {
    el.style.cursor = 'pointer';
    el.addEventListener('click', () => {
      mediaViewer.style.display = 'flex';
      if(el.tagName === 'IMG'){
        viewerImg.src = el.src;
        viewerImg.style.display = 'block';
        viewerVideo.style.display = 'none';
        viewerVideo.pause();
      } else if(el.tagName === 'VIDEO'){
        viewerVideo.src = el.src;
        viewerVideo.style.display = 'block';
        viewerImg.style.display = 'none';
        viewerVideo.play();
      }
    });
  });

  // Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
  closeBtn.addEventListener('click', () => {
    mediaViewer.style.display = 'none';
    viewerVideo.pause();
    viewerVideo.currentTime = 0;
  });
});
</script>
<div id="cmp-banner">
  Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆÙƒÙŠØ² Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ. 
  <button id="consent-allow">Ø£ÙˆØ§ÙÙ‚</button>
  <button id="consent-manage">ØªØºÙŠÙŠØ± Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª</button>
</div>

<script src="app.js" defer></script>
<script>


/* Responsive */
@media(max-width:768px){.header-inner{flex-direction:column;text-align:center;gap:10px}.info-bar{flex-direction:column;gap:10px}.cta-buttons{flex-direction:column;align-items:center}.experience-badge{width:90%}.faq{width:90%}}
/* ================= Equalizer ================= */
.equalizer {
  display:flex;
  justify-content:center;
  gap:6px;
  margin-top:20px;
  height:40px;
  align-items:flex-end;
  transition:opacity 0.3s ease;
}

.equalizer .bar {
  width:6px;
  background:#1e90ff;
  border-radius:3px;
  animation:bounce 1s infinite ease-in-out;
  height:8px;
}

.equalizer .bar:nth-child(1){animation-delay:0s;}
.equalizer .bar:nth-child(2){animation-delay:0.1s;}
.equalizer .bar:nth-child(3){animation-delay:0.2s;}
.equalizer .bar:nth-child(4){animation-delay:0.3s;}
.equalizer .bar:nth-child(5){animation-delay:0.4s;}

@keyframes bounce{
  0%,100%{height:8px;}
  50%{height:36px;}
}

/* ================= PCB background effect ================= */
.logo-wrapper::after {
  content: "";
  position: absolute;
  inset: -20px;
  border-radius: 50%;
  background:
    repeating-linear-gradient(
      45deg,
      rgba(0,255,255,0.15) 0,
      rgba(0,255,255,0.15) 1px,
      transparent 1px,
      transparent 8px
    ),
    repeating-linear-gradient(
      -45deg,
      rgba(255,107,53,0.12) 0,
      rgba(255,107,53,0.12) 1px,
      transparent 1px,
      transparent 10px
    );
  opacity: 0.6;
  animation: pcbMove 12s linear infinite;
  z-index: -2;
}

@keyframes pcbMove {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ================= Footer ================= */
footer {
  background:#061222;
  color:#faf7f7;
  padding:25px 0;
  text-align:center;
  font-weight:500;
  font-size:0.9rem;
  box-shadow:inset 0 1px 3px rgba(255,255,255,0.03);
}

.footer-inner p {
  margin-bottom:5px;
}

.social-icons {
  margin-top:10px;
}

.social-icons a {
  margin:0 12px;
  display:inline-block;
  opacity:0.75;
  transition:opacity 0.3s ease;
}

.social-icons a:hover {
  opacity:1;
}

.social-icons img {
  width:28px;
  height:28px;
  filter:drop-shadow(0 0 1px rgba(0,0,0,0.8));
}

/* ================= Responsive ================= */
@media(max-width:768px){
  .header-inner{flex-direction:column;text-align:center;gap:10px}
  .info-bar{flex-direction:column;gap:10px}
  .cta-buttons{flex-direction:column;align-items:center}
  .experience-badge{width:90%}
  .faq{width:90%}
}
