<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Atelier Electronique MÃ©denine</title>
<meta name="google-adsense-account" content="ca-pub-5360225987687639">
<!-- Script AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5360225987687639" crossorigin="anonymous"></script>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css" />

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<!-- ======= CSS Ø¯Ø§Ø®Ù„ÙŠ (ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ù‚Ù„ style.css Ù„Ùˆ ØªØ­Ø¨) ======= -->
<style>
/* ======= Ø£Ù„ÙˆØ§Ù† ÙˆØ®Ø·ÙˆØ· Ø¹Ø§Ù…Ø© ======= */
body { font-family: 'Montserrat', sans-serif; margin:0; background:#111; color:#fff; }
.container { max-width:1200px; margin:0 auto; padding:0 15px; }

/* ======= Header ======= */
.header-inner { position: relative; overflow: hidden; text-align:center; padding:20px 0; }
.header-inner img.logo { width:120px; display:inline-block; vertical-align:middle; }
.header-inner h1 { display:inline-block; font-size:1.8rem; margin-left:15px; transition: color 0.5s, text-shadow 0.5s; }
#pcbCanvasHeader { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

/* ======= Buttons ======= */
.cta-buttons a, .cta-buttons button {
  display:inline-block; margin:5px; padding:10px 20px; border-radius:8px;
  text-decoration:none; font-weight:600; cursor:pointer; transition: all 0.3s ease;
}
.cta-buttons a:hover, .cta-buttons button:hover { transform:translateY(-2px); }

/* ======= Popup ======= */
#login-popup { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); justify-content:center; align-items:center; z-index:10000; }
#login-popup .popup-content { background:#111; padding:30px; border-radius:15px; text-align:center; color:#fff; width:320px; max-width:90%; box-shadow:0 0 25px #0ff; }

/* ======= User Info Box ======= */
.user-box { display:flex; justify-content:space-between; align-items:center; background:rgba(0,255,255,0.1); padding:12px 20px; border-radius:12px; max-width:400px; margin:20px auto; color:#fff; box-shadow:0 0 15px rgba(0,255,255,0.4); }

/* ======= Media Viewer Fullscreen ======= */
#mediaViewer { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); justify-content:center; align-items:center; flex-direction:column; z-index:99999; }
#mediaViewer img, #mediaViewer video { max-width:90%; max-height:90%; border-radius:12px; }
#mediaViewer .close-btn { position:absolute; top:20px; right:30px; font-size:2.5rem; color:#fff; cursor:pointer; background:rgba(0,0,0,0.3); padding:5px 12px; border-radius:50%; }
#mediaViewer .close-btn:hover { background: rgba(255,0,0,0.7); transform: scale(1.2); }

/* ======= Ø¨Ø§Ù‚ÙŠ CSS Ù…Ø®ØªØµØ± ======= */
/* ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ Ø¨Ù‚ÙŠØ© Ø§Ù„Ù€CSS Ù‡Ù†Ø§ Ù…Ø«Ù„ Weather Box, Stars, Sliders, Experience, etc. */
</style>
</head>
<body>

<header>
  <div class="container header-inner">
    <canvas id="pcbCanvasHeader"></canvas>
    <img src="logo.png" alt="Logo" class="logo" />
    <h1 id="site-name">Atelier Electronique MÃ©denine</h1>
  </div>
</header>

<main class="container main-content">
  <!-- User Info -->
  <div id="user-info" class="user-box" style="display:none;">
    <p class="welcome-msg">Ù…Ø±Ø­Ø¨Ø§ <span id="user-name"></span>!ğŸ‘‹</p>
    <button id="btn-signout" class="btn-signout">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
  </div>

  <!-- Login Popup -->
  <div id="login-popup" class="login-popup">
    <div class="popup-content">
      <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
      <button id="btn-google" class="btn-google">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google</button>
      <button id="btn-close-popup" class="btn-close">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
  </div>

  <!-- ======= Call to Actions ======= -->
  <section class="cta-buttons">
    <a href="download" class="btn-download">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ğŸ“¥</a>
    <a href="store.html" class="btn-store">ØªÙØ³ÙˆÙ‘Ù‚ Ø§Ù„Ø¢Ù† ğŸ›’</a>
    <a href="https://wa.me/21698192103" target="_blank" class="btn-whatsapp">ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“±</a>
    <a href="photos.html" class="btn-gallery">Ø´Ø§Ù‡Ø¯ Ø§Ù„ØµÙˆØ± ğŸ–¼ï¸</a>
    <button id="radio-btn" class="btn-radio">Ø´ØºÙ‘Ù„ Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ ğŸ“»</button>
    <audio id="radio-stream" src="https://stream.radiojar.com/8s5u5tpdtwzuv" preload="none"></audio>
  </section>

<!-- Weather Box -->
<div class="weather-box">
  <h3>ğŸŒ¦ï¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ù…Ø¯Ù†ÙŠÙ†</h3>
  <p id="weather-temp">--Â°C</p>
  <p id="weather-desc">--</p>
</div>

<!-- Prayer Times -->
<div class="prayer-times-box">
  <h3>ğŸ•‹ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©</h3>
  <div id="prayer-times">
    <p>ğŸŒ… Ø§Ù„ÙØ¬Ø±: <span class="time">--:--</span></p>
    <p>ğŸŒ„ Ø§Ù„Ø´Ø±ÙˆÙ‚: <span class="time">--:--</span></p>
    <p>â˜€ï¸ Ø§Ù„Ø¸Ù‡Ø±: <span class="time">--:--</span></p>
    <p>ğŸ•°ï¸ Ø§Ù„Ø¹ØµØ±: <span class="time">--:--</span></p>
    <p>ğŸŒ‡ Ø§Ù„Ù…ØºØ±Ø¨: <span class="time">--:--</span></p>
    <p>ğŸŒ™ Ø§Ù„Ø¹Ø´Ø§Ø¡: <span class="time">--:--</span></p>
  </div>
</div>

<!-- Rating Stars -->
<div class="rating-box">
  <h3>â­ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø²ÙˆØ§Ø±</h3>
  <div class="stars">
    <span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜†</span>
  </div>
</div>

<!-- Services Today -->
<div class="services-today">
  <h3>Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙŠÙˆÙ…</h3>
  <div id="servicesSlider" class="slider">
    <div class="service-card">
      <img src="service1.jpg" alt="Service 1">
      <p class="service-caption">ØªØµÙ„ÙŠØ­ Ù„ÙˆØ­Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</p>
    </div>
    <div class="service-card">
      <img src="service2.jpg" alt="Service 2">
      <p class="service-caption">ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø´ÙŠ</p>
    </div>
    <div class="service-card">
      <img src="service3.jpg" alt="Service 3">
      <p class="service-caption">ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª Ù…Ø§ÙƒÙŠÙ†Ø© ØºØ³ÙŠÙ„</p>
    </div>
    <div class="service-card">
      <img src="service4.jpg" alt="Service 4">
      <p class="service-caption">ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª ØªÙ„ÙØ§Ø²</p>
    </div>
    <div class="service-card">
      <img src="service5.jpg" alt="Service 5">
      <p class="service-caption">ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª ØºØ³Ø§Ù„Ø© Ù„-Ø¬</p>
    </div>
  </div>
</div>

<!-- Videos Section -->
<div class="videos-section">
  <h3>ğŸ“¹ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ÙŠÙˆÙ…</h3>
  <div id="videoSlider" class="slider">
    <div class="video-card">
      <video src="video1.mp4" controls></video>
    </div>
    <div class="video-card">
      <video src="video2.mp4" controls></video>
    </div>
    <div class="video-card">
      <video src="video3.mp4" controls></video>
    </div>
   <div class="video-card">
      <video src="video4.mp4" controls></video>
    </div>
   <div class="video-card">
      <video src="video5.mp4" controls></video>
    </div>
  </div>
  </div>

<!-- Poste Soudure Section -->
<div class="poste-soudure-section">
  <h3>ğŸ› ï¸ Poste Soudure</h3>
  <div class="poste-cards">
    <div class="poste-card">
      <img src="poste1.webp" alt="Poste 1">
      <p>Poste Soudure A</p>
    </div>
    <div class="poste-card">
      <img src="poste2.webp" alt="Poste 2">
      <p>Poste Soudure B</p>
    </div>
    <div class="poste-card">
      <img src="poste3.webp" alt="Poste 3">
      <p>Poste Soudure C</p>
    </div>
   <div class="poste-card">
      <img src="poste4.webp" alt="Poste 3">
      <p>Poste Soudure C</p>
  </div>
   <div class="poste-card">
      <img src="poste5.webp" alt="Poste 3">
      <p>Poste Soudure C</p>
</div>
    </div>
</main>

<footer>
  <div class="container footer-inner">
    <p>ğŸ“ Ù…Ø¯Ù†ÙŠÙ† â€“ Ù†Ø®Ø¯Ù…Ùˆ ÙÙŠ ÙƒØ§Ù…Ù„ Ø£Ù†Ø­Ø§Ø¡ ØªÙˆÙ†Ø³ | ğŸ“² WhatsApp:98192103</p>
    <p>â° Ù…Ù† Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù„Ù„Ø³Ø¨ØªØŒ 08:00 - 18:00 | Ø§Ù„Ø£Ø­Ø¯ Ø±Ø§Ø­Ø©</p>
  </div>
</footer>

<div class="site-signature" style="text-align:center; color:#aaa; font-size:0.9rem; margin-top:10px; padding-bottom:10px;">
  &copy; 2025 Atelier Electronique MÃ©denine. Tous droits rÃ©servÃ©s. <br>
  Signature: RAHMANI Soufien. CHATGPT Lbb
</div>

</body>
</html>
<script>
// ======= 1. ØªÙ‡ÙŠØ¦Ø© Firebase =======
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "atelier-electronique-medenine.firebaseapp.com",
  databaseURL: "https://atelier-electronique-medenine-default-rtdb.firebaseio.com",
  projectId: "atelier-electronique-medenine",
  storageBucket: "atelier-electronique-medenine.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID",
  measurementId: "G-MEASURE_ID"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

// ======= 2. Ø¹Ù†Ø§ØµØ± DOM =======
const loginPopup = document.getElementById('login-popup');
const btnGoogle = document.getElementById('btn-google');
const btnClosePopup = document.getElementById('btn-close-popup');
const userInfo = document.getElementById('user-info');
const userNameSpan = document.getElementById('user-name');
const btnSignout = document.getElementById('btn-signout');

// ======= 3. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google =======
btnGoogle.addEventListener('click', () => {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
    .then((result) => {
      const user = result.user;
      loginPopup.style.display = 'none';
      showUser(user);
      registerVisit(user.uid);
    })
    .catch((error) => {
      console.error(error.message);
      alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„!");
    });
});

// ======= 4. Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… =======
function showUser(user) {
  userInfo.style.display = 'flex';
  userNameSpan.textContent = user.displayName;
}

// ======= 5. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ =======
btnSignout.addEventListener('click', () => {
  auth.signOut().then(() => {
    userInfo.style.display = 'none';
    loginPopup.style.display = 'flex';
  });
});

// ======= 6. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ =======
auth.onAuthStateChanged(user => {
  if(user){
    showUser(user);
    registerVisit(user.uid);
  } else {
    loginPopup.style.display = 'flex';
  }
});

btnClosePopup.addEventListener('click', () => loginPopup.style.display='none');

// ======= 7. ØªØ³Ø¬ÙŠÙ„ Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… =======
function registerVisit(uid){
  const visitRef = db.ref('visits/' + uid);
  visitRef.once('value').then(snapshot => {
    const count = snapshot.val() || 0;
    visitRef.set(count + 1);
  });
}

// ======= 8. Rating Stars =======
const ratingContainer = document.createElement('div');
ratingContainer.className = 'rating-stars';
ratingContainer.innerHTML = `
  <span data-value="1">â˜…</span>
  <span data-value="2">â˜…</span>
  <span data-value="3">â˜…</span>
  <span data-value="4">â˜…</span>
  <span data-value="5">â˜…</span>
`;
document.body.appendChild(ratingContainer);

ratingContainer.querySelectorAll('span').forEach(star => {
  star.addEventListener('click', () => {
    const rating = star.getAttribute('data-value');
    alert(`Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ: ${rating} Ù†Ø¬ÙˆÙ… â­`);
    // ÙŠÙ…ÙƒÙ†Ùƒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙÙŠ Firebase Ø¥Ø°Ø§ Ø£Ø­Ø¨Ø¨Øª
  });
});

</script>
<script>
// ======= 1. PCB Animated Header =======
const canvas = document.getElementById('pcbCanvasHeader');
const ctx = canvas.getContext('2d');
function resizeCanvas() {
  canvas.width = canvas.parentElement.offsetWidth;
  canvas.height = canvas.parentElement.offsetHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø±Ø§Øª PCB
const traces = [];
for (let i = 0; i < 50; i++) {
  const t = {
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    length: 50 + Math.random()*150,
    speed: 0.5 + Math.random()*1.5,
    color: 'rgba(0,255,255,0.5)',
    particles: []
  };
  for(let j=0;j<5;j++) t.particles.push({offset:Math.random()*t.length, speed:1+Math.random()*2, size:2+Math.random()*2});
  traces.push(t);
}

let mouseX=-1000, mouseY=-1000;
window.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });

function animatePCB() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  traces.forEach(t=>{
    const dx=t.x+t.length/2-mouseX, dy=t.y-mouseY;
    const dist=Math.sqrt(dx*dx+dy*dy);
    const speedMultiplier = dist<200?3:1;
    
    // draw line
    ctx.beginPath();
    ctx.moveTo(t.x,t.y);
    ctx.lineTo(t.x+t.length,t.y);
    ctx.strokeStyle = t.color;
    ctx.lineWidth = 2;
    ctx.shadowColor = '#0ff';
    ctx.shadowBlur = 10;
    ctx.stroke();
    
    // particles
    t.particles.forEach(p=>{
      let px = t.x + p.offset, py = t.y;
      ctx.beginPath();
      ctx.arc(px, py, p.size, 0, Math.PI*2);
      ctx.fillStyle = '#0ff';
      ctx.shadowColor = '#0ff';
      ctx.shadowBlur = 10;
      ctx.fill();
      p.offset += p.speed*speedMultiplier;
      if(p.offset>t.length) p.offset=0;
    });

    t.x += t.speed*speedMultiplier;
    if(t.x>canvas.width) t.x=-t.length;
  });
  requestAnimationFrame(animatePCB);
}
animatePCB();

// ======= 2. Weather Box =======
function updateWeather(lang='ar') {
  fetch("https://api.open-meteo.com/v1/forecast?latitude=33.3549&longitude=10.5055&current_weather=true")
    .then(res => res.json())
    .then(data => {
      const temp = data.current_weather.temperature + "Â°C";
      const wind = data.current_weather.windspeed + (lang==='fr'?' km/h':' ÙƒÙ…/Ø³');
      document.getElementById('weather-temp').textContent = temp;
      document.getElementById('weather-desc').textContent = (lang==='fr'? "ğŸŒ¬ï¸ Vitesse du vent: ":"ğŸŒ¬ï¸ Ø³Ø±Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø­: ") + wind;
      document.querySelector('.weather-box h3').textContent = (lang==='fr'? "ğŸŒ¦ï¸ MÃ©tÃ©o Ã  MÃ©denine":"ğŸŒ¦ï¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ù…Ø¯Ù†ÙŠÙ†");
    })
    .catch(()=>{document.getElementById('weather-desc').textContent="âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù‚Ø³";});
}

// ======= 3. Prayer Times =======
function updatePrayerTimes() {
  fetch("https://api.aladhan.com/v1/timingsByCity?city=Medenine&country=Tunisia&method=2")
    .then(res => res.json())
    .then(data => {
      const times = data.data.timings;
      const pt = document.getElementById("prayer-times");
      pt.innerHTML = `
        <p>ğŸŒ… Ø§Ù„ÙØ¬Ø±: <span class="time">${times.Fajr}</span></p>
        <p>ğŸŒ„ Ø§Ù„Ø´Ø±ÙˆÙ‚: <span class="time">${times.Sunrise}</span></p>
        <p>â˜€ï¸ Ø§Ù„Ø¸Ù‡Ø±: <span class="time">${times.Dhuhr}</span></p>
        <p>ğŸ•°ï¸ Ø§Ù„Ø¹ØµØ±: <span class="time">${times.Asr}</span></p>
        <p>ğŸŒ‡ Ø§Ù„Ù…ØºØ±Ø¨: <span class="time">${times.Maghrib}</span></p>
        <p>ğŸŒ™ Ø§Ù„Ø¹Ø´Ø§Ø¡: <span class="time">${times.Isha}</span></p>
      `;
    })
    .catch(err => console.error("Erreur prayer times:", err));
}
updatePrayerTimes();

// ======= 4. Slider Drag =======
function enableDragScroll(id){
  const slider = document.getElementById(id);
  if(!slider) return;
  let isDown=false, startX, scrollLeft;

  slider.addEventListener('mousedown', e=>{
    isDown=true;
    startX = e.pageX - slider.offsetLeft;
    scrollLeft = slider.scrollLeft;
  });

  slider.addEventListener('mouseleave', ()=> isDown=false);
  slider.addEventListener('mouseup', ()=> isDown=false);
  slider.addEventListener('mousemove', e=>{
    if(!isDown) return;
    e.preventDefault();
    const x = e.pageX - slider.offsetLeft;
    const walk = (x - startX)*1.5;
    slider.scrollLeft = scrollLeft - walk;
  });
}
enableDragScroll('servicesSlider');
enableDragScroll('videoSlider');

// ======= 5. Fullscreen Media Viewer =======
const mediaViewer = document.getElementById('mediaViewer');
const viewerImg = document.getElementById('viewerImg');
const viewerVideo = document.getElementById('viewerVideo');
const closeBtn = mediaViewer.querySelector('.close-btn');

document.querySelectorAll('.service-card img, .service-card video').forEach(el=>{
  el.style.cursor='pointer';
  el.addEventListener('click', ()=>{
    mediaViewer.style.display='flex';
    if(el.tagName==='IMG'){
      viewerImg.src=el.src;
      viewerImg.style.display='block';
      viewerVideo.style.display='none';
      viewerVideo.pause();
    } else {
      viewerVideo.src=el.src;
      viewerVideo.style.display='block';
      viewerImg.style.display='none';
      viewerVideo.play();
    }
  });
});

closeBtn.addEventListener('click', ()=>{
  mediaViewer.style.display='none';
  viewerVideo.pause();
  viewerVideo.currentTime=0;
});

// ======= 6. Radio Button Animation =======
const radioBtn = document.getElementById('radio-btn');
let dancing=false;
radioBtn.addEventListener('click', ()=>{
  dancing = !dancing;
  if(dancing) radioBtn.classList.add('dance');
  else radioBtn.classList.remove('dance');
});

// ======= 7. Language Toggle =======
let currentLanguage='ar';
const toggleBtn = document.getElementById('toggle-lang-btn');

toggleBtn.addEventListener('click', ()=>{
  currentLanguage = currentLanguage==='ar'?'fr':'ar';
  updateWeather(currentLanguage);
  updateServiceCaptions(currentLanguage);
  updateVisitText(currentLanguage);
  updateLanguageTexts(currentLanguage);
});

// ======= 8. Update Service Captions =======
const serviceTranslations = {
  ar:["ØªØµÙ„ÙŠØ­ Ù„ÙˆØ­Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©","ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø´ÙŠ","ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª Ù…Ø§ÙƒÙŠÙ†Ø© ØºØ³ÙŠÙ„","ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª ØªÙ„ÙØ§Ø²","ØªØµÙ„ÙŠØ­ ÙƒØ§Ø±Øª ØºØ³Ø§Ù„Ø© Ù„-Ø¬"],
  fr:["rÃ©paration de cartes Ã©lectroniques","rÃ©paration carte tapis roulant","rÃ©paration carte lave-linge","rÃ©paration carte tÃ©lÃ©vision","rÃ©paration carte lave-linge LG"]
};
function updateServiceCaptions(lang){
  const captions = document.querySelectorAll('.service-caption');
  captions.forEach((cap, idx)=>{cap.textContent=serviceTranslations[lang][idx];});
}

// ======= 9. Site Name Animated Text =======
const siteName = document.getElementById('site-name');
const texts = ["Atelier Electronique MÃ©denine","Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠÙƒ Ø§Ù„Ø±Ø­Ù…Ù€Ø§Ù†ÙŠ"];
setInterval(()=>{
  const idx = Math.floor(Math.random()*texts.length);
  siteName.textContent = texts[idx];
  siteName.style.color='#ff6b35';
  siteName.style.textShadow='0 0 10px #e0a800';
  siteName.style.transform='scale(1.2)';
  setTimeout(()=>{ siteName.style.color=''; siteName.style.textShadow=''; siteName.style.transform=''; },1000);
},4000);

// ======= 10. Visits Counter (Firebase) =======
let totalVisits=0;
const visitsRef = db.ref('visits');

visitsRef.transaction(current => (current||0)+1);
visitsRef.on('value', snapshot=>{
  totalVisits = snapshot.val() || 0;
  updateVisitText(currentLanguage);
});

function updateVisitText(lang){
  const elem = document.getElementById('visit-count');
  if(!elem) return;
  elem.textContent = (lang==='ar'?'Ø¹Ø¯Ø¯ Ø²ÙˆØ§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹: ':'Nombre de visiteurs : ') + totalVisits;
}

</script>
</body>
</html>
