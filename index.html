<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Atelier Electronique MÃ©denine</title>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">

<style>
/* ===== Basic Reset ===== */
body { margin:0; font-family: 'Open Sans', sans-serif; background:#0b0f14; color:#fff; }
.container { width:95%; margin:auto; }
header { background:#000; position:relative; }
.header-inner { position:relative; text-align:center; padding:40px 0; overflow:hidden; }
#pcbCanvasHeader { position:absolute; inset:0; z-index:0; }
.header-inner img, .header-inner h1 { position:relative; z-index:2; }
h1 { margin-top:10px; font-size:1.8rem; transition: color 0.5s, transform 0.5s, text-shadow 0.5s; display:inline-block; margin-left:15px; }

/* ===== CTA Buttons ===== */
.cta-buttons { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin:20px 0; }
.cta-buttons a, .cta-buttons button { background:#ff6b35; color:#fff; border:none; padding:10px 15px; border-radius:6px; cursor:pointer; text-decoration:none; transition:0.3s; }
.cta-buttons a:hover, .cta-buttons button:hover { box-shadow:0 0 15px #ff6b35, 0 0 30px #ff6b35; transform:translateY(-3px); }

/* ===== Experience Badge ===== */
.experience-badge { text-align:center; font-size:1.3rem; font-weight:bold; color:yellow; margin:30px auto; animation: glowExperience 1.5s infinite alternate, floatExperience 3s ease-in-out infinite; }
@keyframes glowExperience { 0%{color:yellow;text-shadow:0 0 5px yellow;}25%{color:red;text-shadow:0 0 8px red;}50%{color:cyan;text-shadow:0 0 10px cyan;}75%{color:magenta;text-shadow:0 0 12px magenta;}100%{color:yellow;text-shadow:0 0 15px yellow;} }
@keyframes floatExperience {0%{transform:translateY(0);}50%{transform:translateY(-6px);}100%{transform:translateY(0);}}

/* ===== Rating ===== */
.rating-container { text-align:center; margin:40px auto; }
.stars-horizontal span { font-size:2.5rem; cursor:pointer; margin:0 5px; color:#ccc; transition:0.3s; display:inline-block; }
.stars-horizontal span.selected { color:gold; text-shadow:0 0 8px gold; }
.stars-horizontal span.hover { color:gold; text-shadow:0 0 8px gold; transform:scale(1.4) translateY(-5px); }
#rating-value { margin-top:10px; font-size:1.2rem; transition:0.3s; }
.rating-container:hover #rating-value { transform:translateY(-3px); }

/* ===== Radio Button Animation ===== */
@keyframes zigzag { 0%{transform:rotate(0);}25%{transform:rotate(-5deg);}50%{transform:rotate(5deg);}75%{transform:rotate(-5deg);}100%{transform:rotate(0);} }
.btn-radio.playing { animation:zigzag 0.4s infinite; box-shadow:0 0 20px #00ffcc; }

/* ===== Cookie Banner ===== */
#cookie-banner { position:fixed; bottom:0; left:0; width:100%; background:rgba(0,0,0,0.85); color:#fff; text-align:center; padding:15px 10px; font-size:0.95rem; z-index:9999; display:none; }
#cookie-banner button { background:#ff6b35; border:none; color:#fff; padding:8px 15px; margin-left:10px; cursor:pointer; border-radius:5px; font-weight:bold; }

/* ===== Theme ===== */
body.light { background:#f5f5f5; color:#000; }
body.light .cta-buttons a, body.light .cta-buttons button { background:#ff6b35; color:#fff; }
body.light .experience-badge { color:gold; text-shadow:0 0 8px gold; }
</style>
</head>
<body>

<header>
  <div class="container header-inner">
    <canvas id="pcbCanvasHeader"></canvas>
    <img src="logo.png" alt="Logo" class="logo">
    <h1 id="site-name">Atelier Electronique MÃ©denine</h1>
    <button id="theme-toggle" style="position:absolute;top:20px;left:20px;padding:8px 12px;">ğŸŒ™</button>
  </div>
  <div class="news-ticker" aria-live="polite" style="position: relative; z-index:10;">
    <div class="news-text" id="live-news">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±...</div>
  </div>
</header>

<main class="container main-content">
  <section class="info-bar">
    <div id="current-time">--:--:--</div>
    <div id="visit-count">Ø¹Ø¯Ø¯ Ø²ÙŠØ§Ø±Ø§ØªÙƒ: 0</div>
  </section>

  <section class="cta-buttons">
    <a href="download">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ğŸ“¥</a>
    <a href="store.html">ØªÙØ³ÙˆÙ‘Ù‚ Ø§Ù„Ø¢Ù† ğŸ›’</a>
    <a href="https://wa.me/21698192103" target="_blank">ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“±</a>
    <a href="https://maps.app.goo.gl/nxBU8h2oFDEkiBFE9" target="_blank">Ø§Ù„Ù…ÙˆÙ‚Ø¹ ğŸ“</a>
    <a href="photos.html">Ø§Ù„ØµÙˆØ± ğŸ–¼ï¸</a>
    <a href="videos.html">Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ğŸ¥</a>
    <a href="services.html">Ø§Ù„Ø®Ø¯Ù…Ø§Øª ğŸ› ï¸</a>
    <button id="radio-btn" class="btn-radio">Ø´ØºÙ‘Ù„ Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ ğŸ“»</button>
    <audio id="radio-stream" src="https://stream.radiojar.com/8s5u5tpdtwzuv" preload="none"></audio>
  </section>

  <section class="experience-badge">Ø£ÙƒØ«Ø± Ù…Ù† 10 Ø³Ù†ÙˆØ§Øª Ø®Ø¨Ø±Ø©</section>

  <section class="rating-container">
    <p>Ù‚ÙŠÙ… Ø§Ù„ÙˆØ±Ø´Ø©:</p>
    <div class="stars-horizontal">
      <span data-value="5">â˜†</span>
      <span data-value="4">â˜†</span>
      <span data-value="3">â˜†</span>
      <span data-value="2">â˜†</span>
      <span data-value="1">â˜†</span>
    </div>
    <p id="rating-value">0/5</p>
  </section>
</main>

<footer>
  <div class="container footer-inner">
    <p>ğŸ“ Ù…Ø¯Ù†ÙŠÙ† â€“ Ù†Ø®Ø¯Ù…Ùˆ ÙÙŠ ÙƒØ§Ù…Ù„ ØªÙˆÙ†Ø³ | ğŸ“² WhatsApp:98192103</p>
  </div>
</footer>

<div id="cookie-banner">
  Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆÙƒÙŠØ² Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ <button id="accept-cookies">Ø£ÙˆØ§ÙÙ‚</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  /* ===== Theme Toggle ===== */
  const themeBtn = document.getElementById('theme-toggle');
  if(localStorage.getItem('theme')==='light') document.body.classList.add('light');
  themeBtn.textContent = document.body.classList.contains('light') ? 'â˜€ï¸' : 'ğŸŒ™';
  themeBtn.onclick = () => {
    document.body.classList.toggle('light');
    const t = document.body.classList.contains('light') ? 'light' : 'dark';
    localStorage.setItem('theme', t);
    themeBtn.textContent = t==='light'?'â˜€ï¸':'ğŸŒ™';
  };

  /* ===== Animated Site Name ===== */
  const siteName = document.getElementById('site-name');
  const texts = ["Atelier Electronique MÃ©denine","ÙˆØ±Ø´Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠÙƒ Ù…Ø¯Ù†Ù€ÙŠÙ†","Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠÙƒ Ø§Ù„Ø±Ø­Ù…Ù€Ø§Ù†ÙŠ"];
  setInterval(()=>{
    const idx = Math.floor(Math.random()*texts.length);
    siteName.textContent = texts[idx];
    siteName.style.color='#ff6b35';
    siteName.style.textShadow='0 0 10px #ff6b35';
    siteName.style.transform='scale(1.2)';
    setTimeout(()=>{siteName.style.color=''; siteName.style.textShadow=''; siteName.style.transform='';},1000);
  },4000);

  /* ===== Radio ===== */
  const radio = document.getElementById('radio-stream');
  const radioBtn = document.getElementById('radio-btn');
  radioBtn.onclick = () => {
    if(radio.paused){ radio.play(); radioBtn.classList.add('playing'); radioBtn.textContent='Ø¥ÙŠÙ‚Ø§Ù â¹ï¸'; }
    else { radio.pause(); radioBtn.classList.remove('playing'); radioBtn.textContent='Ø´ØºÙ‘Ù„ Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ ğŸ“»'; }
  };

  /* ===== Rating ===== */
  const stars = document.querySelectorAll('.stars-horizontal span');
  const ratingValue = document.getElementById('rating-value');
  let rating = parseInt(localStorage.getItem('workshopRating'))||0;
  function updateStars(val){
    stars.forEach(s=>{ s.textContent = s.dataset.value<=val?'â˜…':'â˜†'; s.classList.toggle('selected',s.dataset.value<=val); });
    ratingValue.textContent = `${val}/5`;
    ratingValue.style.color = val>0?'gold':'#fff';
    ratingValue.style.textShadow = val>0?'0 0 8px gold':'none';
  }
  updateStars(rating);
  stars.forEach(s=>{
    const val = parseInt(s.dataset.value);
    s.addEventListener('mouseover',()=>{ stars.forEach(st=>st.classList.remove('hover')); stars.forEach(st=>{ if(st.dataset.value<=val) st.classList.add('hover'); }); ratingValue.style.color='gold'; ratingValue.style.textShadow='0 0 8px gold'; });
    s.addEventListener('mouseout',()=>{ stars.forEach(st=>st.classList.remove('hover')); updateStars(rating); });
    s.addEventListener('click',()=>{ rating=val; localStorage.setItem('workshopRating',rating); updateStars(rating); });
  });

  /* ===== Cookie Banner ===== */
  const cookieBanner = document.getElementById('cookie-banner');
  if(!localStorage.getItem('cookiesAccepted')) cookieBanner.style.display='block';
  document.getElementById('accept-cookies').onclick=()=>{ localStorage.setItem('cookiesAccepted','true'); cookieBanner.style.display='none'; };

  /* ===== PCB Header Animation ===== */
  const canvas = document.getElementById('pcbCanvasHeader');
  const ctx = canvas.getContext('2d');
  function resizeCanvas(){ canvas.width=canvas.parentElement.offsetWidth; canvas.height=canvas.parentElement.offsetHeight; }
  window.addEventListener('resize',resizeCanvas); resizeCanvas();
  const traces=[];
  for(let i=0;i<50;i++){
    traces.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,length:50+Math.random()*150,speed:0.5+Math.random()*1.5,color:'rgba(0,255,255,0.5)',particles:[]});
    for(let j=0;j<5;j++) traces[i].particles.push({offset:Math.random()*traces[i].length,speed:1+Math.random()*2,size:2+Math.random()*2});
  }
  let mouseX=-1000, mouseY=-1000;
  window.addEventListener('mousemove',e=>{ mouseX=e.clientX; mouseY=e.clientY; });
  function animatePCB(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    traces.forEach(t=>{
      const dx=t.x+t.length/2-mouseX, dy=t.y-mouseY, dist=Math.sqrt(dx*dx+dy*dy);
      let speedMultiplier=dist<200?3:1;
      ctx.beginPath(); ctx.moveTo(t.x,t.y); ctx.lineTo(t.x+t.length,t.y); ctx.strokeStyle=t.color; ctx.lineWidth=2; ctx.shadowColor='#0ff'; ctx.shadowBlur=10; ctx.stroke();
      t.particles.forEach(p=>{
        let px=t.x+p.offset, py=t.y;
        ctx.beginPath(); ctx.arc(px,py,p.size,0,Math.PI*2);
        ctx.fillStyle='#0ff'; ctx.shadowColor='#0ff'; ctx.shadowBlur=10; ctx.fill();
        p.offset+=p.speed*speedMultiplier;
        if(p.offset>t.length) p.offset=0;
      });
      t.x+=t.speed*speedMultiplier;
      if(t.x>canvas.width) t.x=-t.length;
    });
    requestAnimationFrame(animatePCB);
  }
  animatePCB();
});
</script>

</body>
</html>
